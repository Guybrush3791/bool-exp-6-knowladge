/** GENERATED BY OBSIDIAN-PLUGIN-CLI, DO NOT EDIT */
var V=Object.create;var u=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,D=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var C=(a,e,s)=>e in a?u(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,E=(a,e)=>{for(var s in e||(e={}))F.call(e,s)&&C(a,s,e[s]);if(v)for(var s of v(e))L.call(e,s)&&C(a,s,e[s]);return a};var T=a=>u(a,"__esModule",{value:!0});var q=(a,e)=>{T(a);for(var s in e)u(a,s,{get:e[s],enumerable:!0})},M=(a,e,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of P(e))!F.call(a,t)&&t!=="default"&&u(a,t,{get:()=>e[t],enumerable:!(s=N(e,t))||s.enumerable});return a},h=a=>M(T(u(a!=null?V(D(a)):{},"default",a&&a.__esModule&&"default"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var n=(a,e,s)=>new Promise((t,r)=>{var i=p=>{try{x(s.next(p))}catch(w){r(w)}},l=p=>{try{x(s.throw(p))}catch(w){r(w)}},x=p=>p.done?t(p.value):Promise.resolve(p.value).then(i,l);x((s=s.apply(a,e)).next())});q(exports,{default:()=>I});var S=h(require("obsidian"));var j={extensions:["ts","tsx","js","jsx","json","html","py"],folding:!0,lineNumbers:!0,minimap:!0,semanticValidation:!0,syntaxValidation:!0},g="code-editor";var k=h(require("obsidian"));var y=class extends k.TextFileView{constructor(e,s){super(e);this.plugin=s;this.id=y.i++;this.value=""}getDisplayText(){var e;return(e=this.file)==null?void 0:e.name}getViewType(){return g}getContext(e){var s,t;return(t=e==null?void 0:e.path)!=null?t:(s=this.file)==null?void 0:s.path}onClose(){var e=s=>super[s];return n(this,null,function*(){var t;yield e("onClose").call(this),(t=this.iframe)==null||t.remove()})}onLoadFile(e){var s=t=>super[t];return n(this,null,function*(){yield s("onLoadFile").call(this,e);let r=app.getTheme()==="obsidian"?"vs-dark":"vs",i=new URLSearchParams;i.append("context",this.getContext(e)),i.append("lang",this.getLanguage()),i.append("theme",r),i.append("background","transparent"),i.append("folding",this.plugin.settings.folding?"true":"false"),i.append("lineNumbers",this.plugin.settings.lineNumbers?"on":"off"),i.append("minimap",this.plugin.settings.minimap?"true":"false"),i.append("javascriptDefaults","true"),i.append("typescriptDefaults","true"),i.append("javascriptDefaultsNoSemanticValidation",this.plugin.settings.semanticValidation?"false":"true"),i.append("typescriptDefaultsNoSemanticValidation",this.plugin.settings.semanticValidation?"false":"true"),i.append("javascriptDefaultsNoSyntaxValidation",this.plugin.settings.syntaxValidation?"false":"true"),i.append("typescriptDefaultsNoSyntaxValidation",this.plugin.settings.syntaxValidation?"false":"true"),this.iframe=document.createElement("iframe"),this.iframe.src=`https://embeddable-monaco.lukasbach.com?${i.toString()}`,this.iframe.style.width="100%",this.iframe.style.height="100%",this.contentEl.style.overflow="hidden",this.contentEl.append(this.iframe),window.addEventListener("message",({data:l})=>{switch(l.type){case"ready":{this.send("change-value",{value:this.value}),this.send("change-language",{language:this.getLanguage()}),this.send("change-background",{background:"transparent",theme:r});break}case"change":{l.context===this.getContext()&&(this.value=l.value);break}}})})}onUnloadFile(e){var s=t=>super[t];return n(this,null,function*(){var r;yield s("onUnloadFile").call(this,e),(r=this.iframe)==null||r.remove()})}onOpen(){var e=s=>super[s];return n(this,null,function*(){yield e("onOpen").call(this)})}clear(){this.value="",this.send("change-value",{value:""})}getViewData(){return this.value}setViewData(e,s=!1){this.value=e,this.send("change-value",{value:e})}getLanguage(){var e;switch((e=this.file)==null?void 0:e.extension){case"js":case"es6":case"jsx":case"cjs":case"mjs":return"javascript";case"ts":case"tsx":case"cts":case"mts":return"typescript";case"json":return"json";case"py":case"rpy":case"pyu":case"cpy":case"gyp":case"gypi":return"python";case"css":return"css";case"html":case"htm":case"shtml":case"xhtml":case"mdoc":case"jsp":case"asp":case"aspx":case"jshtm":return"html";case"cpp":case"cc":case"cxx":case"hpp":case"hh":case"hxx":return"cpp";case"graphql":case"gql":return"graphql";case"java":case"jav":return"java";case"php":case"php4":case"php5":case"phtml":case"ctp":return"php";case"sql":return"sql";case"yaml":case"yml":return"yaml";case"bat":case"batch":return"bat";case"lua":return"lua";case"rb":case"rbx":case"rjs":case"gemspec":return"ruby";case"markdown":case"mdown":case"mkdn":case"mkd":case"mdwn":case"mdtxt":case"mdtext":case"mdx":return"markdown";case"r":case"rhistory":case"rmd":case"rprofile":case"rt":return"r";case"ftl":case"ftlh":case"ftlx":return"freemarker2";case"rst":return"restructuredtext";case"hcl":case"tf":case"tfvars":return"hcl";case"ini":case"properties":case"gitconfig":return"ini";case"pug":case"jade":return"pug";case"dart":return"dart";case"rs":case"rlib":return"rust";case"less":return"less";case"cls":return"apex";case"tcl":return"tcl";case"abap":return"abap";case"ecl":return"ecl";case"pla":return"pla";case"cmd":return"bat";case"vb":return"vb";case"sb":return"sb";case"m3":case"i3":case"mg":case"ig":return"m3";case"go":return"go";case"s":return"mips";case"pl":case"pm":return"perl";case"wgsl":return"wgsl";case"twig":return"twig";case"scss":return"scss";case"redis":return"redis";case"sh":case"bash":return"shell";case"scala":case"sc":case"sbt":return"scala";case"jl":return"julia";case"dax":case"msdax":return"msdax";case"lex":return"lexon";case"cshtml":return"razor";case"bicep":return"bicep";case"azcli":return"azcli";case"swift":case"Swift":return"swift";case"flow":return"flow9";case"xml":case"xsd":case"dtd":case"ascx":case"csproj":case"config":case"props":case"targets":case"wxi":case"wxl":case"wxs":case"xaml":case"svgz":case"opf":case"xslt":case"xsl":return"xml";case"kt":case"kts":return"kotlin";case"cypher":case"cyp":return"cypher";case"coffee":return"coffeescript";case"fs":case"fsi":case"ml":case"mli":case"fsx":case"fsscript":return"fsharp";case"scm":case"ss":case"sch":case"rkt":return"scheme";case"rq":return"sparql";case"aes":return"aes";case"liquid":case"html.liquid":return"liquid";case"pas":case"p":case"pp":return"pascal";case"ex":case"exs":return"elixir";case"qs":return"qsharp";case"cs":case"csx":case"cake":return"csharp";case"clj":case"cljs":case"cljc":case"edn":return"clojure";case"mligo":return"cameligo";case"sol":return"sol";case"proto":return"proto";case"dats":case"sats":case"hats":return"postiats";case"ligo":return"pascaligo";case"dockerfile":return"dockerfile";case"handlebars":case"hbs":return"handlebars";case"pq":case"pqm":return"powerquery";case"m":return"objective-c";case"sv":case"svh":return"systemverilog";case"v":case"vh":return"verilog";case"st":case"iecst":case"iecplc":case"lc3lib":return"st";case"c":case"h":return"c";default:return"plaintext"}}send(e,s){var t,r;(r=(t=this.iframe)==null?void 0:t.contentWindow)==null||r.postMessage(E({type:e},s),"*")}},m=y;m.i=0;var c=h(require("obsidian")),d=class extends c.Modal{constructor(e,s){super(e.app);this.plugin=e;this.fileName="My Code File";this.fileExtension=this.plugin.settings.extensions[0];this.parent=s!=null?s:this.plugin.app.vault.getRoot()}onOpen(){let{contentEl:e}=this;e.style.display="flex",e.style.alignItems="center";let s=new c.TextComponent(e);s.inputEl.style.flexGrow="1",s.inputEl.style.marginRight="10px",s.setValue(this.fileName),s.inputEl.addEventListener("keypress",i=>{i.key==="Enter"&&this.complete()}),s.onChange(i=>this.fileName=i);let t=new c.DropdownComponent(e);t.selectEl.style.marginRight="10px",t.addOptions(this.plugin.settings.extensions.reduce((i,l)=>(i[l]=l,i),{})),t.setValue(this.fileExtension),t.onChange(i=>this.fileExtension=i),t.selectEl.addEventListener("keypress",i=>{i.key==="Enter"&&this.complete()});let r=new c.ButtonComponent(e);r.setCta(),r.setButtonText("Create"),r.onClick(()=>this.complete()),s.inputEl.focus()}complete(){return n(this,null,function*(){this.close();let s=`${(this.parent instanceof c.TFile?this.parent.parent:this.parent).path}/${this.fileName}.${this.fileExtension}`,t=this.app.vault.getAbstractFileByPath((0,c.normalizePath)(s));if(t&&t instanceof c.TFile){new c.Notice("File already exists"),this.app.workspace.getLeaf(!0).openFile(t);return}let r=yield this.app.vault.create(s,"",{});this.app.workspace.getLeaf(!0).openFile(r)})}onClose(){let{contentEl:e}=this;e.empty()}};var o=h(require("obsidian")),b=class extends o.PluginSettingTab{constructor(e,s){super(e,s);this.plugin=s}display(){let{containerEl:e}=this;e.empty(),e.createEl("h2",{text:"Code Files Settings"}),new o.Setting(e).setName("File Extensions").setDesc("Files with these extensions will show up in the sidebar, and will be available to create new files from. Seperated by commas. Changes to the file extensions need a restart to take effect.").addText(s=>s.setPlaceholder("js,ts").setValue(this.plugin.settings.extensions.join(",")).onChange(t=>n(this,null,function*(){this.plugin.settings.extensions=t.split(","),yield this.plugin.saveSettings()}))),new o.Setting(e).setName("Folding").setDesc("Editor will support code block folding.").addToggle(s=>s.setValue(this.plugin.settings.folding).onChange(t=>n(this,null,function*(){this.plugin.settings.folding=t,yield this.plugin.saveSettings()}))),new o.Setting(e).setName("Line Numbers").setDesc("Editor will show line numbers.").addToggle(s=>s.setValue(this.plugin.settings.lineNumbers).onChange(t=>n(this,null,function*(){this.plugin.settings.lineNumbers=t,yield this.plugin.saveSettings()}))),new o.Setting(e).setName("Minimap").setDesc("Editor will show a minimap.").addToggle(s=>s.setValue(this.plugin.settings.minimap).onChange(t=>n(this,null,function*(){this.plugin.settings.minimap=t,yield this.plugin.saveSettings()}))),new o.Setting(e).setName("Semantic Validation").setDesc("Editor will show semantic validation errors.").addToggle(s=>s.setValue(this.plugin.settings.semanticValidation).onChange(t=>n(this,null,function*(){this.plugin.settings.semanticValidation=t,yield this.plugin.saveSettings()}))),new o.Setting(e).setName("Syntax Validation").setDesc("Editor will show syntax validation errors.").addToggle(s=>s.setValue(this.plugin.settings.syntaxValidation).onChange(t=>n(this,null,function*(){this.plugin.settings.syntaxValidation=t,yield this.plugin.saveSettings()})))}};var f=class extends S.Plugin{onload(){return n(this,null,function*(){yield this.loadSettings(),this.registerView(g,e=>new m(e,this)),this.registerExtensions(this.settings.extensions,g),this.registerEvent(this.app.workspace.on("file-menu",(e,s)=>{e.addItem(t=>{t.setTitle("Create Code File").setIcon("file-json").onClick(()=>n(this,null,function*(){new d(this,s).open()}))})})),this.addRibbonIcon("file-json","Create Code File",()=>{new d(this).open()}),this.addCommand({id:"create",name:"Create new Code File",callback:()=>{new d(this).open()}}),this.addSettingTab(new b(this.app,this))})}onunload(){}loadSettings(){return n(this,null,function*(){this.settings=Object.assign({},j,yield this.loadData())})}saveSettings(){return n(this,null,function*(){yield this.saveData(this.settings)})}};var I=f;0&&(module.exports={});
